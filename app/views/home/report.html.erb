<div class="report">
  <table>
    <tr>
      <%= form_tag(home_report_path, method: :get) do %>
        <h4>Filter by:</h4>
        <%= select_tag(:filter, options_for_select([['Tweet', 1],['Retweet', 2], ['Date of tweet', 3]], selected: params[:filter]), prompt: 'Select option') %>
        <td>
          <div class="tweet">
            <%= label_tag "Tweet"%>
            <%= text_field_tag :tweet, params[:tweet] %>
          </div>
          <div class="tweet_date">
            <%= label_tag "Tweet by Date"%>
            <%= date_field_tag :tweet_date %>
          </div>
        </td>
        <td>
          <%= submit_tag 'Search'%>
        </td>
      <%end%>
    </tr>
  </table>
  <table>
    <tr>
      <th>Username</th>
      <th>Tweet</th>
      <th>Retweet</th>
      <th>Date</th>
    </tr>
    <% if @tweets %>
      <% @tweets.each do |tweet| %>
        <tr>
          <td><%= tweet.user.screen_name %></td>
          <td><%= tweet.text %></td>
          <td><%= tweet.retweeted_status.text %></td>
          <td><%= tweet.created_at %></td>
        </tr>
      <% end %>
    <% end%>
  </table>
</div>
<script type="text/javascript">
      $(function(){
        $("#filter").on('click', function(){
          var id = $(this).val();
          if(id == "1") {
            $('.tweet').show();
            $('.tweet_date').hide();
          } else if(id == "2") {
            $('.tweet').show();
            $('.tweet_date').hide();
          } else {
            $('.tweet_date').show();
            $('.tweet').hide();
          }
        });
      });
    </script>
